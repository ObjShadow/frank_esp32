syntax = "proto2";

enum MessageType {
    MESSAGE_TYPE_AUDIO = 0;
    MESSAGE_TYPE_TEXT = 1;
    MESSAGE_TYPE_COMMAND = 2;
}

message Audio {
    required bytes data = 1;
    required uint32 sample_rate = 2;
    required uint32 channels = 3;
}

message Text {
    required string text = 1;
}

enum Commands {
    COMMANDS_CLEAR_HISTORY = 1;
}

message Command {
    required Commands command = 1;
}

message DeviceInfo {
    optional int32 display_height = 1;
    optional int32 display_width = 2;
    optional uint32 play_sample_rate = 3;
    optional uint32 play_bps = 4;
    optional uint32 play_channels = 5;
}

message Packet {
    message Head {
        required int32 version = 1;
        required MessageType type = 2;
        optional DeviceInfo device_info = 3;
    }
    required Head head = 1;
    oneof body {
        Audio audio = 2;
        Text text = 3;
        Command command = 4;
    }
}